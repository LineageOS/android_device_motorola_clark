{
  "comments": [
    {
      "key": {
        "uuid": "ff2e2bb8_a20eb3e2",
        "filename": "cmactions/src/com/cyanogenmod/settings/device/CMActionsService.java",
        "patchSetId": 1
      },
      "lineNbr": 77,
      "author": {
        "id": 15927
      },
      "writtenOn": "2016-10-03T18:54:51Z",
      "side": 1,
      "message": "I have a feeling this is why CMActionsWakeLock never let\u0027s my phone to sleep. Never, I mean 100% CPU on, 0% Deep Sleep!! Please workaround",
      "range": {
        "startLine": 77,
        "startChar": 0,
        "endLine": 77,
        "endChar": 99
      },
      "revId": "faaf0d08ec1f4f49b80c4891f7077e65345fc269",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff2e2bb8_e2e55b0c",
        "filename": "cmactions/src/com/cyanogenmod/settings/device/CMActionsService.java",
        "patchSetId": 1
      },
      "lineNbr": 77,
      "author": {
        "id": 13897
      },
      "writtenOn": "2016-10-03T19:17:28Z",
      "side": 1,
      "message": "The problem is that mWakeLock.aquire() and mWakeLock.release() should be in screenTurnedOn() and screenTurnedOff() respectively. updateState() is called only once when the service is created, while screenTurnedOff() and screenTurnedOn() are called when ACTION_SCREEN_OFF and ACTION_SCREEN_ON are received.",
      "parentUuid": "ff2e2bb8_a20eb3e2",
      "range": {
        "startLine": 77,
        "startChar": 0,
        "endLine": 77,
        "endChar": 99
      },
      "revId": "faaf0d08ec1f4f49b80c4891f7077e65345fc269",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff2e2bb8_a2835304",
        "filename": "cmactions/src/com/cyanogenmod/settings/device/CMActionsService.java",
        "patchSetId": 1
      },
      "lineNbr": 77,
      "author": {
        "id": 15927
      },
      "writtenOn": "2016-10-03T19:58:43Z",
      "side": 1,
      "message": "sorry if I made anyone mad, but I\u0027m still new to Android APIs and functions so a lot of stuff is in \"code\" for me ^^",
      "parentUuid": "ff2e2bb8_e2e55b0c",
      "range": {
        "startLine": 77,
        "startChar": 0,
        "endLine": 77,
        "endChar": 99
      },
      "revId": "faaf0d08ec1f4f49b80c4891f7077e65345fc269",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff2e2bb8_e27c3b22",
        "filename": "cmactions/src/com/cyanogenmod/settings/device/CMActionsService.java",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 15927
      },
      "writtenOn": "2016-10-03T19:58:43Z",
      "side": 1,
      "message": "makes perfect sense as it does right what it says in the commit description. I presume mPowerManager.isInteractive() returns true if screen is on and false when it shuts down and system tries to go to sleep.\nRegardless of if there is already a minor wakelock going on, isInteractive() will always return false after power-button press?",
      "range": {
        "startLine": 105,
        "startChar": 8,
        "endLine": 108,
        "endChar": 13
      },
      "revId": "faaf0d08ec1f4f49b80c4891f7077e65345fc269",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff2e2bb8_c2c77745",
        "filename": "cmactions/src/com/cyanogenmod/settings/device/CMActionsService.java",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 13897
      },
      "writtenOn": "2016-10-03T20:16:24Z",
      "side": 1,
      "message": "You don\u0027t need isInteractive() if you rely on the intents: https://developer.android.com/reference/android/content/Intent.html#ACTION_SCREEN_OFF\n\nAll you need is\n\n    @Override\n    public void screenTurnedOn() {\n        if (!mWakeLock.isHeld()) {\n            mWakeLock.acquire();\n        }\n        for (ScreenStateNotifier screenStateNotifier : mScreenStateNotifiers) {\n            screenStateNotifier.screenTurnedOn();\n        }\n    }\n\n    @Override\n    public void screenTurnedOff() {\n        for (ScreenStateNotifier screenStateNotifier : mScreenStateNotifiers) {\n            screenStateNotifier.screenTurnedOff();\n        }\n        if (mWakeLock.isHeld()) {\n            mWakeLock.release();\n        }\n    }\n\nThis should result in a minimal wakelock time.\n\nThis was necessary to enable the gestures reliably on my device running cm-13.0, I don\u0027t know about clark.",
      "parentUuid": "ff2e2bb8_e27c3b22",
      "range": {
        "startLine": 105,
        "startChar": 8,
        "endLine": 108,
        "endChar": 13
      },
      "revId": "faaf0d08ec1f4f49b80c4891f7077e65345fc269",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    }
  ]
}